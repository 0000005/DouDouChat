# Story 08-01: 消息气泡 Hover 交互及动态 Dropdown 菜单实现

> Epic: 消息气泡交互与快捷操作增强
> Priority: High
> Points: 3

## 概述
实现消息气泡的鼠标悬停（Hover）交互效果，并在悬停时显示“...”操作按钮。点击按钮唤起下拉菜单，为后续的具体操作提供入口。**此功能需同时支持用户发送的消息和好友（AI）发送的消息。**

## 用户故事

### US-1: 发现操作入口
**作为** 用户，
**我希望** 无论是看自己发的消息还是好友给我的回复，当鼠标悬停时都能看到操作按钮，
**以便** 我能对不同角色的消息执行相应的操作（如撤回自己的，或让好友重新回答）。

### US-2: 唤起操作菜单
**作为** 用户，
**我希望** 点击操作按钮后能弹出一个菜单，
**以便** 我选择具体要执行的指令（如复制、撤回等）。

## 功能范围

### 包含
- **全角色支持**：消息气泡组件的 Hover 状态监听，**必须覆盖 User（用户）和 Assistant（好友/AI）的所有消息类型**。
- **多气泡逻辑识别**：若 AI 的一次回复包含多个气泡（多个 `<message>` 标签），这些气泡被视为**同一个逻辑消息**。每个气泡都应独立支持 Hover 触发菜单。
- “...”操作按钮的显隐控制（仅 Hover 时显示，或菜单打开时保持显示）。
- 下拉菜单（Dropdown Menu）的基础实现。
- 菜单项的容器结构（支持动态插入不同的菜单项）。

### 不包含（后续迭代）
- 具体的操作逻辑（如撤回、复制的具体实现），本 Story 仅关注 UI 框架和菜单的唤起。

## 验收标准

- [ ] AC-1: 当鼠标移入用户或 AI 的消息气泡区域时，气泡旁显示“...”图标按钮。
- [ ] AC-2: 当鼠标移出气泡区域且菜单未打开时，“...”按钮消失。
- [ ] AC-3: 点击“...”按钮，在按钮附近弹出下拉菜单。
- [ ] AC-4: 下拉菜单出现时，即使鼠标移出气泡，菜单和“...”按钮应保持显示状态。
- [ ] AC-5: 点击菜单外部区域，菜单应关闭。

## 依赖关系

### 前置依赖
- Epic-01: 消息气泡组件已存在。

### 被依赖（后续）
- Story 08-02: 复制功能
- Story 08-03: 撤回功能
