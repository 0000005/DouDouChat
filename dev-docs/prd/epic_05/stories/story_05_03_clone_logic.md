# Story 05-03: 添加逻辑 (Clone Logic)

> Epic: 好友库 (Friend Gallery)
> Priority: High
> Points: 3

## 概述
实现前端"添加好友"按钮后的完整业务闭环：调用克隆接口、初始化会话、并跳转界面。

## 用户故事

### US-1: 无缝添加体验
**作为** 用户，
**我希望** 点击添加后能直接开始聊天，
**以便** 获得流畅的社交体验。

## 功能范围

### 包含
- **前端逻辑**：
  - 绑定 Story 05-02 详情页中的"添加好友"按钮事件。
  - 调用 `POST /api/friend-templates/{id}/clone` API。
  - 成功后自动调用会话创建 API（如果克隆接口未包含此逻辑）。
  - 更新 Sidebar 好友列表状态。
  - 路由跳转至 Chat 页面并选中新好友。
- **状态反馈**：添加过程中的 Loading 状态，失败的 Toast 提示。

### 不包含
- 后端 API 实现（已在 05-01 完成）。

## 验收标准

- [ ] AC-1: 点击添加，按钮立即进入 Loading 态，防止重复提交。
- [ ] AC-2: 添加成功后，页面自动跳转至聊天 Tab，且当前选中的正是刚添加的好友。
- [ ] AC-3: 若网络失败，应保留在详情页并提示错误原因，允许重试。

## 依赖关系
- 前置：Story 05-02 (UI), Story 05-01 (API)
