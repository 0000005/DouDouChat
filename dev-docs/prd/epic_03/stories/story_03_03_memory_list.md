# Story 03-03: 记忆列表功能

> Epic: 聊天详情抽屉菜单  
> Priority: High  
> Points: 5

## 概述
在抽屉菜单中点击"记忆列表"后，展示 Memobase 为当前好友生成的所有事件记忆。每条记忆以卡片形式呈现，包含事件时间、事件描述和相关性标签。这是唯信 Memory 系统的重要展示窗口，让用户直观看到 AI 从对话中提取并记住了哪些关键信息。

## 用户故事

### US-1: 查看事件记忆列表
**作为** 用户，  
**我希望** 点击"记忆列表"后能够看到 AI 为我生成的所有事件记忆，  
**以便** 了解 AI 记住了我生活中的哪些重要事件。

### US-2: 浏览记忆详情
**作为** 用户，  
**我希望** 每条记忆卡片能够清晰展示事件时间和描述，  
**以便** 快速回顾 AI 对我的了解程度。

### US-3: 理解记忆来源
**作为** 用户，  
**我希望** 能够看到记忆是从哪次会话的哪条消息中提取的，  
**以便** 理解 AI 的记忆生成逻辑。

## 功能范围

### 包含
- "记忆列表"菜单项的点击交互
- Memobase 事件记忆列表的展示（按时间倒序排列）
- 每条记忆卡片显示：事件时间、事件描述、来源会话/消息索引（如 Memobase 提供）
- 空状态提示（无事件记忆时）
- 记忆卡片的基础样式和布局
- Loading 状态和网络错误处理

### 不包含（后续迭代）
- 记忆的编辑或删除功能
- 记忆的分类或标签筛选
- 点击记忆跳转到原始消息的功能

## 验收标准

- [ ] AC-1: 点击"记忆列表"菜单项后，抽屉内容区切换为事件记忆列表视图，顶部显示返回按钮
- [ ] AC-2: 数据加载中显示 Loading 状态，加载失败显示错误提示和重试按钮
- [ ] AC-3: 记忆列表按事件时间倒序排列，最新事件在最上方
- [ ] AC-4: 每条记忆卡片包含事件时间、事件描述（从 Memobase 获取）
- [ ] AC-5: 记忆卡片可选展示来源信息（如"来自 2026-01-03 的会话"），如 Memobase SDK 未提供则不显示
- [ ] AC-6: 事件描述超过 3 行时自动折叠，显示"展开"按钮
- [ ] AC-7: 如果当前好友没有任何事件记忆，显示友好的空状态提示（如"暂无记忆，开始聊天后 AI 会自动记录重要事件"）
- [ ] AC-8: 记忆列表支持滚动查看大量记忆（如超过 10 条）
- [ ] AC-9: 记忆卡片的视觉设计清晰易读，与整体 UI 风格一致

## 依赖关系

### 前置依赖
- Story 03-01: 基础抽屉组件和菜单框架
- Epic-02: 个人资料管理（Memobase 集成和 API 可用）

### 被依赖（后续）
- 无直接被依赖

## 备注
- 后端需要提供 `/api/memo/events` 接口，支持按 `friend_id` 或 `user_id` 过滤查询事件记忆
- 事件记忆数据结构参考 Memobase SDK 的 Event 模型
- 来源信息为可选字段，需要确认 Memobase SDK 是否提供 `source_session_id` 或 `source_message_id`
- 事件描述折叠/展开功能可以使用 CSS `line-clamp` 或 Vue 组件状态管理
