# Story 09-03: 群组管理界面开发 (UI)

> Epic: AI 多人群聊 (Group Chat)
> Priority: High
> Points: 5

## 概述
实现仿微信风格的群聊生命周期管理界面。用户可以通过好友选择器快速组建群聊，并在群设置页面动态调整群信息、管理成员以及切换群聊的核心功能开关（如自动回复）。

## 用户故事

### US-1: 发起群聊 UI
**作为** 用户，
**我希望** 能够通过勾选多个 AI 好友并输入群组名称来创建一个群，
**以便** 组织多方会谈。

### US-2: 查看与修改群设置 UI
**作为** 用户，
**我希望** 在群设置页面看到所有群成员，并能修改群名或开关“自动回复”，
**以便** 灵活控制群聊行为和外观。

## 功能范围

### 包含
- **发起群聊选择器 (Dialog)**:
  - **结构**: 仿微信 PC 端三栏设计：
    - 左侧: 好友列表，支持按联系人首字母/分类快速定位。
    - 中间: 成员复选框列表，带头像和名称，顶部包含搜索框。
    - 右侧: "已选择成员" 预览区，显示已勾选代理的头像，带有一键移除功能。
  - **交互**: 至少勾选 2 名 Agent 才能激活 "确定" 按钮；点击 "确定" 后进入群聊并自动弹出群重命名输入框（可选）。
- **群设置详情页 (Drawer/Menu)**:
  - **成员展示区**: 顶部展示成员网格。每个图标包含 `Avatar + Name`。最后两个图标固定为 `(+)` 邀请按钮和 `(-)` 按钮。
  - **配置表单区**:
    - **群聊名称**: 点击进入内联编辑状态或弹出简单 Dialog 修改。
    - **群头像**: 默认显示拼接预览图，点击可自定义上传。
    - **群描述**: 文本域输入，用于定义群聊主题。
    - **自动回复**: 右侧配以 `Switch` 开关。
  - **底部动作区**: 显眼的 "删除并退出" 红色按钮。
- **侧边栏预览规格**:
  - **头像**: 默认展示群内前 4-9 名成员头像的“九宫格”拼接图。
  - **文案**: 格式为 `[发送者]: [消息内容]`。

- **组件分离**：群聊**不复用** `ChatArea.vue`，而是新建 `GroupChatArea.vue`。通过抽取公共子组件（如 `MessageBubble`、`ChatInput`）实现代码复用，避免单一组件承载过多分支逻辑。单聊与群聊的业务差异过大（多发送者、并行消息、@ 功能），强行复用会导致维护成本激增。

### 不包含（后续迭代）
- 修改群内昵称（群名片）
- 群二维码分享与扫码加入

## 验收标准

- [ ] AC-1: 用户可以通过侧边栏“+”号入口唤起好友选择器并成功创建群聊。
- [ ] AC-2: 群设置页面显示准确的成员列表，点击“+”号能继续邀请新成员。
- [ ] AC-3: 实现群名修改功能，并在侧边栏和对话框标题处同步显示。
- [ ] AC-4: UI 视觉细节（布局、颜色、图标、悬浮效果）与微信高度一致，群头像支持自动拼接预览图。
- [ ] AC-5: 创建出的群组在刷新页面后依然持久化显示在侧边栏列表中。

## 依赖关系

### 前置依赖
- Story 09-02: 群组管理服务端接口 (API)

### 被依赖（后续）
- Story 09-04: @提及功能与强制触发
- Story 09-07: GroupChatArea 并行渲染
